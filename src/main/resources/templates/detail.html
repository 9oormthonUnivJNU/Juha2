<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>detail</title>
</head>
<body>
<table>
    <tr>
        <th>id</th>
        <td th:text="${board.id}"></td>
    </tr>
    <tr>
        <th>title</th>
        <td th:text="${board.boardTitle}"></td>
    </tr>
    <tr>
        <th>writer</th>
        <td th:text="${board.boardWriter}"></td>
    </tr>
    <tr>
        <th>date</th>
        <td th:text="${board.boardCreateTime}"></td>
    </tr>
    <tr>
        <th>hits</th>
        <td th:text="${board.boardHits}"></td>
    </tr>
    <tr>
        <th>contents</th>
        <td th:text="${board.boardContents}"></td>
    </tr>
    <tr th:if="${board.fileAttached == 1}">
        <th>image</th>
        <td th:each="fileName : ${board.storedFileName}">
            <img th:src="@{|/upload/${fileName}|}" alt="">
        </td> <!--DTO에서 stroedFileName을 가져와서 화면 출력-->
    </tr>
</table>
    <button onclick="listReq()">목록</button>
    <button onclick="updateReq()">수정</button>
    <button onclick="deleteReq()">삭제</button>
</body>

<script th:inline="javascript">
   const listReq = () => {
       console.log("목록 요청");
       const page = [[${page}]];
       // 목록으로 돌아갈 때 페이지 번호 포함하여 해당 페이지로 돌아감 (리펙터링)
       location.href = "/board/paging?page=" + page;
   }

   const updateReq = () => {
       console.log("수정 요청");
       const id = [[${board.id}]];  // model에 담아온 데이터를 js에서 활용하기 위해서는 th:inline="javascript" 속성이 필요함
       location.href = "/board/update/" + id;
   }

   const deleteReq = () => {
       console.log("삭제 요청");
       const id = [[${board.id}]];
       location.href = "/board/delete/" + id;
   }
</script>

</html>